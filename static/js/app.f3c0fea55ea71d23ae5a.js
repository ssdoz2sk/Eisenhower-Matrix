webpackJsonp([1],{29:function(t,e,i){"use strict";var n=i(17),s=i(79),a=i(72),l=i.n(a),o=i(74),r=i.n(o);n.a.use(s.a),e.a=new s.a({routes:[{path:"/",name:"Hello",component:l.a},{path:"/p/:id",name:"Note",props:!0,component:r.a},{path:"*",component:l.a}]})},30:function(t,e,i){function n(t){i(38)}var s=i(8)(i(32),i(77),n,null,null);t.exports=s.exports},31:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),s=i(30),a=i.n(s),l=i(29);n.a.config.productionTip=!1,new n.a({el:"#app",router:l.a,template:"<App/>",components:{App:a.a}})},32:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(44),s=i.n(n),a=s.a.initializeApp({apiKey:"AIzaSyDUrmO0CmQhXe74I7txd8jDmwHAMszxCPA",authDomain:"eisenhower-fed8a.firebaseapp.com",databaseURL:"https://eisenhower-fed8a.firebaseio.com"}),l=new s.a.auth.GoogleAuthProvider;e.default={name:"app",firebase:function(){return{user:null,noteList:{},firebasedb:a.database()}},data:function(){return{firebase:a,firebasedb:a.database(),user:null,noteList:{}}},beforeCreate:function(){s.a.auth().onAuthStateChanged(function(t){var e=this;t?(this.user=t,this.firebasedb.ref("noteList/").child(t.uid).once("value").then(function(t){e.noteList=t.val(),e.noteList||(e.noteList={}),console.log(e.noteList)})):this.user=null}.bind(this))},methods:{onSignIn:function(){s.a.auth().signInWithPopup(l)},onSignOut:function(){s.a.auth().signOut()}}}},33:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hello",data:function(){},props:{user:{type:Object,default:null},noteList:{type:Object,default:{}},firebasedb:{type:Object,default:null}},methods:{addMatrix:function(){var t=this.firebasedb.ref("eisenhower").child(this.user.uid),e=t.push();e.set({updateTime:(new Date).getTime()});var i=e.key,n=this.firebasedb.ref("noteList").child(this.user.uid),s=n.push();s.set({eisenhower_key:i,title:"Default",editNote:!1}),this.$set(this.noteList,s.key,{this_key:s.key,eisenhower_key:i,title:"Default",editNote:!1})},saveTitle:function(t){}}}},34:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal",data:function(){return{showModal:!1}}}},35:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(81),s=i.n(n),a=i(73),l=i.n(a);e.default={name:"note",data:function(){return{isDragging:!1,delayedDragging:!1,list:[],list2:[],list3:[],list4:[],selectElement:null,showModal:!1,editing:!1,adding:!1,addingList:null}},components:{draggable:s.a,Modal:l.a},props:{user:{type:Object,default:null},noteList:{type:Object,default:{}},firebasedb:{type:Object,default:null}},mounted:function(){var t=this,e=setInterval(function(){if(t.user){clearInterval(e);t.firebasedb.ref("eisenhower").child(t.user.uid).child(t.$route.params.id).on("value",function(e){var i=e.val();t.list=i.do||[],t.list2=i.decide||[],t.list3=i.delegate||[],t.list4=i.delete||[]})}},250)},methods:{save:function(){this.firebasedb.ref("eisenhower").child(this.user.uid).child(this.$route.params.id).set({do:this.list,decide:this.list2,delegate:this.list3,delete:this.list4,updateTime:(new Date).getTime()}).then(function(){}).catch(function(t){console.error("Error writing new message to Firebase Database",t)})},onMove:function(t){var e=t.relatedContext,i=t.draggedContext,n=e.element,s=i.element;return!(n&&n.fixed||s.fixed)},onMoveEnd:function(){this.isDragging=!1,this.save()},onDel:function(){var t=this.editingList.indexOf(this.selectElement);t>-1&&this.editingList.splice(t,1),this.showModal=!1},onEdit:function(t,e){this.editingList=t,this.selectElement=e,this.editingElement={title:e.title,editTitle:!1,content:e.content,editContent:!1},this.showModal=!0},onEditDone:function(){""!==this.editingElement.title.trim()&&(this.adding?this.editingList.push({title:this.editingElement.title,content:this.editingElement.content,fixed:!1}):(this.selectElement.title=this.editingElement.title,this.selectElement.content=this.editingElement.content),this.showModal=!1,this.adding=!1,this.editing=!1,this.save())},onCancel:function(){this.adding=!1,this.editing=!1,this.showModal=!1},onCreate:function(t){this.editingList=t,this.editingElement={title:"",content:""},this.adding=!0,this.editing=!0,this.showModal=!0}},computed:{dragOptions:function(){return{animation:0,group:"description",ghostClass:"ghost"}}},watch:{isDragging:function(t){var e=this;if(t)return void(this.delayedDragging=!0);this.$nextTick(function(){e.delayedDragging=!1})}}}},36:function(t,e){},37:function(t,e){},38:function(t,e){},39:function(t,e){},72:function(t,e,i){function n(t){i(37)}var s=i(8)(i(33),i(76),n,"data-v-49d5ddd8",null);t.exports=s.exports},73:function(t,e,i){function n(t){i(39)}var s=i(8)(i(34),i(78),n,null,null);t.exports=s.exports},74:function(t,e,i){function n(t){i(36)}var s=i(8)(i(35),i(75),n,"data-v-457c285c",null);t.exports=s.exports},75:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"table"},[t._m(0),t._v(" "),i("div",{staticClass:"table-row"},[i("div",{staticClass:"table-th"},[t._v("重要")]),t._v(" "),i("div",{staticClass:"table-cell"},[i("draggable",{staticClass:"list-group fill-cell",attrs:{element:"ul",options:{draggable:".item",group:"eis"},move:t.onMove},on:{start:function(e){t.isDragging=!0},end:t.onMoveEnd},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[t._l(t.list,function(e){return i("li",{key:e.order,staticClass:"list-group-item item",on:{click:function(i){if(i.target!==i.currentTarget)return null;t.onEdit(t.list,e)}}},[i("i",{class:e.fixed?"fa fa-anchor":"glyphicon glyphicon-pushpin",attrs:{"aria-hidden":"true"},on:{click:function(t){e.fixed=!e.fixed}}}),t._v("\n            "+t._s(e.title)+"\n          ")])}),t._v(" "),i("li",{staticClass:"list-group-item",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.onCreate(t.list)}},slot:"footer"},[t._v("\n            增加\n          ")])],2)],1),t._v(" "),i("div",{staticClass:"table-cell"},[i("draggable",{staticClass:"list-group fill-cell",attrs:{element:"ul",options:{draggable:".item",group:"eis"},move:t.onMove},on:{start:function(e){t.isDragging=!0},end:t.onMoveEnd},model:{value:t.list2,callback:function(e){t.list2=e},expression:"list2"}},[t._l(t.list2,function(e){return i("li",{key:e.order,staticClass:"list-group-item item",on:{click:function(i){if(i.target!==i.currentTarget)return null;t.onEdit(t.list2,e)}}},[i("i",{class:e.fixed?"fa fa-anchor":"glyphicon glyphicon-pushpin",attrs:{"aria-hidden":"true"},on:{click:function(t){e.fixed=!e.fixed}}}),t._v("\n            "+t._s(e.title)+"\n          ")])}),t._v(" "),i("li",{staticClass:"list-group-item",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.onCreate(t.list2)}},slot:"footer"},[t._v("\n            增加\n          ")])],2)],1)]),t._v(" "),i("div",{staticClass:"table-row"},[i("div",{staticClass:"table-th"},[t._v("不重要")]),t._v(" "),i("div",{staticClass:"table-cell"},[i("draggable",{staticClass:"list-group fill-cell",attrs:{element:"ul",options:{draggable:".item",group:"eis"},move:t.onMove},on:{start:function(e){t.isDragging=!0},end:t.onMoveEnd},model:{value:t.list3,callback:function(e){t.list3=e},expression:"list3"}},[t._l(t.list3,function(e){return i("li",{key:e.order,staticClass:"list-group-item item",on:{click:function(i){if(i.target!==i.currentTarget)return null;t.onEdit(t.list3,e)}}},[i("i",{class:e.fixed?"fa fa-anchor":"glyphicon glyphicon-pushpin",attrs:{"aria-hidden":"true"},on:{click:function(t){e.fixed=!e.fixed}}}),t._v("\n            "+t._s(e.title)+"\n          ")])}),t._v(" "),i("li",{staticClass:"list-group-item",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.onCreate(t.list3)}},slot:"footer"},[t._v("\n            增加\n          ")])],2)],1),t._v(" "),i("div",{staticClass:"table-cell"},[i("draggable",{staticClass:"list-group fill-cell",attrs:{element:"ul",options:{draggable:".item",group:"eis"},move:t.onMove},on:{start:function(e){t.isDragging=!0},end:t.onMoveEnd},model:{value:t.list4,callback:function(e){t.list4=e},expression:"list4"}},[t._l(t.list4,function(e){return i("li",{key:e.order,staticClass:"list-group-item item",on:{click:function(i){if(i.target!==i.currentTarget)return null;t.onEdit(t.list4,e)}}},[i("i",{class:e.fixed?"fa fa-anchor":"glyphicon glyphicon-pushpin",attrs:{"aria-hidden":"true"},on:{click:function(t){e.fixed=!e.fixed}}}),t._v("\n              "+t._s(e.title)+"\n          ")])}),t._v(" "),i("li",{staticClass:"list-group-item",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.onCreate(t.list4)}},slot:"footer"},[t._v("\n            增加\n          ")])],2)],1)])]),t._v(" "),t.showModal?i("modal",{on:{close:function(e){t.showModal=!1}}},[i("div",{slot:"header"},[i("h3",{directives:[{name:"show",rawName:"v-show",value:0==t.editing,expression:"editing == false"}]},[t._v(t._s(t.editingElement.title))]),t._v(" "),i("h3",[i("input",{directives:[{name:"show",rawName:"v-show",value:1==t.editing,expression:"editing == true"},{name:"model",rawName:"v-model",value:t.editingElement.title,expression:"editingElement.title"}],staticClass:"fill-cell",domProps:{value:t.editingElement.title},on:{input:function(e){e.target.composing||(t.editingElement.title=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"fill-cell",slot:"body"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.editing,expression:"editing == false"}],staticClass:"fill-cell"},[i("span",{staticClass:"fill-cell"},[t._v("\n          "+t._s(t.editingElement.content)+"\n        ")])]),t._v(" "),i("textarea",{directives:[{name:"show",rawName:"v-show",value:1==t.editing,expression:"editing == true"},{name:"model",rawName:"v-model",value:t.editingElement.content,expression:"editingElement.content"}],staticClass:"fill-cell",domProps:{value:t.editingElement.content},on:{input:function(e){e.target.composing||(t.editingElement.content=e.target.value)}}})]),t._v(" "),i("div",{slot:"footer"},[i("button",{staticClass:"btn btn-danger footer-left",on:{click:t.onDel}},[t._v("刪除")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:0==t.editing,expression:"editing == false"}],staticClass:"btn btn-warning footer-left",on:{click:function(e){t.editing=!0}}},[t._v("編輯")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:1==t.editing,expression:"editing == true"}],staticClass:"btn btn-warning footer-left",on:{click:function(e){t.editing=!1}}},[t._v("完成")]),t._v(" "),i("button",{staticClass:"btn btn-success",on:{click:t.onEditDone}},[t._v("確定")]),t._v(" "),i("button",{staticClass:"btn btn-default",on:{click:t.onCancel}},[t._v("取消")])])]):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-row"},[i("div",{staticClass:"table-th"}),t._v(" "),i("div",{staticClass:"table-th"},[t._v("急迫")]),t._v(" "),i("div",{staticClass:"table-th"},[t._v("不急迫")])])}]}},76:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("h1",[t._v("艾森豪魔術方塊")]),t._v(" "),i("h2",[t._v("魔術方塊列表")]),t._v(" "),i("span",[t._v("Double Click to Edit Text")]),t._v(" "),i("ul",{staticClass:"list-group"},[t._l(t.noteList,function(e,n){return i("li",{key:n,staticClass:"list-group-item",on:{dblclick:function(t){e.editNote=!0}}},[i("router-link",{directives:[{name:"show",rawName:"v-show",value:0==e.editNote,expression:"note.editNote == false"}],attrs:{to:{path:"/p/"+e.eisenhower_key}}},[t._v(t._s(e.title))]),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:1==e.editNote,expression:"note.editNote == true"},{name:"model",rawName:"v-model",value:e.title,expression:"note.title"}],domProps:{value:e.title},on:{blur:function(t){e.editNote=!1},keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;e.editNote=!1},input:function(t){t.target.composing||(e.title=t.target.value)}}})],1)}),t._v(" "),i("li",{staticClass:"list-group-item",on:{click:t.addMatrix}},[t._v("增加")])],2)])},staticRenderFns:[]}},77:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluid container",attrs:{id:"app"}},[i("div",{staticClass:"form-group form-group-lg panel panel-default"},[t._m(0),t._v(" "),i("div",{staticClass:"panel-body"},[t.user?t._e():i("div",{staticClass:"btn btn-default",on:{click:t.onSignIn}},[t._v("Login")]),t._v(" "),t.user?i("div",{staticClass:"user",on:{click:t.onSignIn}},[t._v("歡迎 "),i("img",{staticStyle:{height:"32px",width:"32px"},attrs:{src:t.user.photoURL}}),t._v(t._s(t.user.displayName))]):t._e(),t._v(" "),t.user?i("div",{staticClass:"btn btn-default",on:{click:t.onSignOut}},[t._v("Logout")]):t._e()])]),t._v(" "),i("router-view",{attrs:{user:t.user,noteList:t.noteList,firebasedb:t.firebasedb}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"panel-heading"},[i("h3",{staticClass:"panel-title"},[t._v("Sortbale control")])])}]}},78:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n            default header\n          ")])],2),t._v(" "),i("div",{staticClass:"modal-body"},[t._t("body",[t._v("\n            default body\n          ")])],2),t._v(" "),i("div",{staticClass:"modal-footer"},[t._t("footer",[t._v("\n            default footer\n            "),i("button",{staticClass:"modal-default-button",on:{click:function(e){t.$emit("close")}}},[t._v("\n              OK\n            ")])])],2)])])])])},staticRenderFns:[]}}},[31]);
//# sourceMappingURL=app.f3c0fea55ea71d23ae5a.js.map